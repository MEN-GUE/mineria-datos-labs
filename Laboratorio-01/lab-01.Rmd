---
title: "lab-01"
output: html_document
date: "2026-02-02"
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```

## R Markdown

## Cargar data
```{r}
data <- read.csv("../data/movies_2026.csv")
```

## 1. Resumen de la  data
```{r 1
summary(data)
```

## 4.1 Top 10 películas con mayor presupuesto
```{r 4.1}
top10_budget <- data[order(-data$budget), ][1:10, c("title", "budget")]
top10_budget
```
## 4.4 Pelicula con peor voteCount
```{r 4.4}
worst_voteCount <- data[which.min(data$voteCount), c("title", "voteCount")]
worst_voteCount
```
## 4.7 Género (genres) que obtuvo mejor ganancia (revenue)en orden de mayor a menorNOTE: No substraction only variable revenue
```{r 4.7}
top_genres_revenue <- aggregate(revenue ~ genres, data = data, sum)
top_genres_revenue <- top_genres_revenue[order(-top_genres_revenue $revenue), ]
top_genres_revenue
```

## 4.10 Nombres de los directores (director) de las 20  peliculas con mejores (voteAvg)  y más votos (voteCount) y el nombre de dicha pelicula, mostrar el director, el titulo, la cantidad de votos y la media de votos
```{r 4.10}
umbral <- quantile(data$voteCount, 0.90) # Del 10% de las peliculas con más votos
data_filtrada <- subset(data, voteCount >= umbral) 
top20_reales <- data_filtrada[order(-data_filtrada$voteAvg, -data_filtrada$voteCount), ][1:20, c("director", "title", "voteCount", "voteAvg")]
top20_reales
```
## 4.13
```{r}
data$releaseDate <- as.Date(data$releaseDate) # convertir a formato fecha
data$Mes <- format(data$releaseDate, "%m")
data$Anio <- format(data$releaseDate, "%Y")

# Sumar ingresos agrupando por Mes
ingresos_por_mes <- aggregate(revenue ~ Mes, data = data, FUN = sum, na.rm = TRUE)
# Ordenar de mayor a menor para ver el "Top Meses"
ingresos_ordenados <- ingresos_por_mes[order(ingresos_por_mes$revenue, decreasing = TRUE), ]
# Gráfico
barplot(ingresos_ordenados$revenue, names.arg = ingresos_ordenados$Mes, main = "Ingresos Totales por Mes", col = "lightblue")
```



